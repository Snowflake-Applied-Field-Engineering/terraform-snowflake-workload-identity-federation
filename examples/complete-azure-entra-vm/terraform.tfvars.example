# Terraform Configuration Example for Snowflake WIF with Azure
# Copy this file to terraform.tfvars and fill in your values

# Azure Infrastructure
azure_subscription_id = "your-subscription-id"
azure_tenant_id       = "your-tenant-id"
location              = "eastus"
resource_group_name   = "rg-snowflake-wif-test"

# VNet Configuration (leave empty to create new)
vnet_name             = "" # Or specify existing VNet name
subnet_name           = "" # Or specify existing subnet name
vnet_address_space    = ["10.0.0.0/16"]
subnet_address_prefix = "10.0.1.0/24"

# VM Configuration
name_prefix    = "snow_wif_test"
vm_size        = "Standard_B2s"
admin_username = "azureuser"

# SSH Configuration (provide either SSH key or password)
ssh_public_key_path = "~/.ssh/id_rsa.pub"       # Or leave empty for auto-generated key
# admin_password    = "YourSecurePassword123!"  # Uncomment if not using SSH key

# Network Security
enable_public_ip            = true
allow_ssh_from_internet     = false                  # Set to true only for testing
ssh_source_address_prefixes = ["YOUR.IP.ADDRESS/32"] # Your IP for SSH access

# Snowflake Provider Authentication (for Terraform)
snowflake_organization_name = "your_org_name"
snowflake_account_name      = "your_account_locator"
snowflake_username          = "your_terraform_user"
snowflake_role              = "ACCOUNTADMIN"
snowflake_private_key_path  = "/path/to/snowflake_rsa_key.p8"
# snowflake_private_key_passphrase = "your_passphrase"  # If key is encrypted

# Optional: Snowflake Context for Testing
wif_default_warehouse = "COMPUTE_WH"  # Must exist in Snowflake
wif_test_database     = "TEST_DB"     # Must exist in Snowflake
wif_test_schema       = "PUBLIC"      # Must exist in Snowflake

# Optional: Override Azure Service Principal ID
# azure_service_principal_id = "your-custom-sp-id"  # Leave empty to use managed identity

# Tags
tags = {
  Environment = "test"
  Purpose     = "snowflake-wif-testing"
  ManagedBy   = "terraform"
}
